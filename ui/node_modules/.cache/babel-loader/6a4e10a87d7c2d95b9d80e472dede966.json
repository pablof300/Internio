{"ast":null,"code":"var _jsxFileName = \"/Users/pabloestrada/Desktop/Internio/ui/src/components/landing_page/LoginPage/LoginPage.tsx\";\nimport React from 'react';\nimport Cookies from \"js-cookie\";\nimport { Button, Form, Grid, Header, Segment } from 'semantic-ui-react';\nimport styles from './LoginPage.module.css';\nimport { AuthApi } from \"../../../api/index\";\nexport class LoginPage extends React.Component {\n  constructor(props) {\n    super(props);\n    this.authApi = new AuthApi();\n    this.state = {\n      username: \"\",\n      password: \"\",\n      redirect: false,\n      failedToLogin: false\n    };\n    this.setUsername = this.setUsername.bind(this);\n    this.setPassword = this.setPassword.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    this.getJWT = this.getJWT.bind(this);\n  }\n\n  setUsername(e) {\n    this.setState({\n      username: e.target.value\n    });\n  }\n\n  setPassword(e) {\n    this.setState({\n      password: e.target.value\n    });\n  }\n\n  handleSubmit(e) {\n    e.preventDefault();\n    this.getJWT();\n  }\n\n  async getJWT() {\n    const requestParams = {\n      username: this.state.username,\n      password: this.state.password\n    };\n    this.authApi.getJWT(requestParams).then(token => {\n      Cookies.set(\"jwt\", token);\n      this.setState({\n        redirect: true\n      });\n    }).catch(e => {\n      this.setState({\n        failedToLogin: true\n      });\n      console.log(e);\n    });\n  }\n\n  render() {\n    return React.createElement(React.Fragment, null, React.createElement(Grid, {\n      stackable: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, React.createElement(Grid.Column, {\n      width: 4,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(Grid.Column, {\n      width: 8,\n      className: styles.Margin,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70\n      },\n      __self: this\n    }, this.state.failedToLogin && React.createElement(MessageComponent, {\n      type: \"failure\",\n      title: \"Uh no!\",\n      content: \"Could not login with that info?\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 72\n      },\n      __self: this\n    }), React.createElement(Segment, {\n      padded: \"very\",\n      stacked: true,\n      className: styles.Container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(Header, {\n      centered: true,\n      textAlign: \"center\",\n      as: \"div\",\n      icon: true,\n      className: styles.Header,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"lock\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }), \"Login\"), React.createElement(Divider, {\n      hidden: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }), React.createElement(Segment, {\n      raised: true,\n      color: \"teal\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, React.createElement(Form, {\n      onSubmit: this.handleSubmit,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      label: \"Username\",\n      control: Input,\n      onChange: this.setUsername,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }), React.createElement(Form.Input, {\n      label: \"Password\",\n      control: Input,\n      type: \"password\",\n      onChange: this.setPassword,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    }), React.createElement(Button, {\n      primary: true,\n      type: \"submit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 99\n      },\n      __self: this\n    }, \"Login\")))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/pabloestrada/Desktop/Internio/ui/src/components/landing_page/LoginPage/LoginPage.tsx"],"names":["React","Cookies","Button","Form","Grid","Header","Segment","styles","AuthApi","LoginPage","Component","constructor","props","authApi","state","username","password","redirect","failedToLogin","setUsername","bind","setPassword","handleSubmit","getJWT","e","setState","target","value","preventDefault","requestParams","then","token","set","catch","console","log","render","Margin","Container","Input"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Cookies from \"js-cookie\"\nimport { Redirect } from 'react-router-dom';\nimport { Button, Form, Grid, Header, Image, Segment } from 'semantic-ui-react';\nimport styles from './LoginPage.module.css'\nimport { AuthApi } from \"../../../api/index\"\nimport Logo from '../../../assets/logo.png';\n\ninterface State {\n  username: string\n  password: string\n  redirect: boolean\n  failedToLogin: boolean\n}\n\n\nexport class LoginPage extends React.Component<{},State> {\nprivate authApi: AuthApi = new AuthApi()\n\n  constructor(props: {}) {\n    super(props)\n    this.state = {\n      username: \"\",\n      password: \"\",\n      redirect: false,\n      failedToLogin: false\n    }\n\n    this.setUsername = this.setUsername.bind(this)\n    this.setPassword = this.setPassword.bind(this)\n    this.handleSubmit = this.handleSubmit.bind(this)\n    this.getJWT = this.getJWT.bind(this)\n  }\n\n  setUsername(e: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({ username: e.target.value })\n  }\n\n  setPassword(e: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({ password: e.target.value })\n  }\n\n  handleSubmit(e: React.FormEvent<HTMLFormElement>) {\n    e.preventDefault()\n    this.getJWT()\n  }\n\n  async getJWT() {\n    const requestParams = {\n      username: this.state.username,\n      password: this.state.password\n    }\n    this.authApi\n      .getJWT(requestParams)\n      .then(token => {\n        Cookies.set(\"jwt\", token)\n        this.setState({ redirect: true })\n      })\n      .catch(e => {\n        this.setState({ failedToLogin: true })\n        console.log(e)\n      })\n  }\n\n  render() {\n    return (\n      <>\n        <Grid stackable>\n          <Grid.Column width={4} />\n          <Grid.Column width={8} className={styles.Margin}>\n            {this.state.failedToLogin &&\n              <MessageComponent type='failure' title='Uh no!' content='Could not login with that info?' />\n            }\n            <Segment padded=\"very\" stacked className={styles.Container}>\n              <Header\n                centered\n                textAlign=\"center\"\n                as=\"div\"\n                icon\n                className={styles.Header}\n              >\n                <Icon name=\"lock\" />\n                Login\n              </Header>\n              <Divider hidden />\n              <Segment raised color=\"teal\">\n                <Form onSubmit={this.handleSubmit}>\n                  <Form.Field\n                    label=\"Username\"\n                    control={Input}\n                    onChange={this.setUsername}\n                  />\n                  <Form.Input\n                    label=\"Password\"\n                    control={Input}\n                    type=\"password\"\n                    onChange={this.setPassword}\n                  />\n                  <Button primary type=\"submit\">\n                    Login\n                  </Button>\n                </Form>\n              </Segment>\n            </Segment>\n          </Grid.Column>\n        </Grid>\n      </>\n    )\n  }\n}\n"]},"metadata":{},"sourceType":"module"}