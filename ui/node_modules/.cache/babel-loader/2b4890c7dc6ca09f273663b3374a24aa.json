{"ast":null,"code":"var _jsxFileName = \"/Users/pabloestrada/Desktop/Internio/ui/src/components/dashboard/DashboardComponent/DashboardComponent.tsx\";\nimport React from \"react\";\nimport styles from \"./DashboardComponent.module.css\";\nimport { AuthApi } from \"../../../api/index\";\nimport { InternioApi } from \"../../../api/index\";\nimport Cookies from \"js-cookie\";\nimport { Redirect } from \"react-router-dom\";\nimport { NeighborhoodComponent } from \"../NeighborhoodComponent/index\";\nimport Datetime from \"react-datetime\";\nimport \"../../../../node_modules/react-datetime/css/react-datetime.css\";\nimport { Grid, Icon, Menu, Segment, Header, Button, Divider, Form, Input, Card } from \"semantic-ui-react\";\nexport class DashboardComponent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.authApi = new AuthApi();\n    this.internioApi = new InternioApi();\n    this.state = {\n      authenticated: false,\n      loading: true,\n      start: true,\n      addingNewInternship: false,\n      neighborhoodStage: false,\n      neighborhoods: [],\n      company: \"\",\n      city: \"\",\n      state: \"\"\n    };\n    this.addNewInternship = this.addNewInternship.bind(this);\n    this.setCompany = this.setCompany.bind(this);\n    this.setState = this.setState.bind(this);\n    this.setCity = this.setCity.bind(this);\n    this.setStartDate = this.setStartDate.bind(this);\n    this.setEndDate = this.setEndDate.bind(this);\n    this.setStateLocation = this.setStateLocation.bind(this);\n    this.submitNewInternship = this.submitNewInternship.bind(this);\n  }\n\n  submitNewInternship(e) {\n    e.preventDefault();\n    console.log(\"GOING!!!\");\n    console.log(this.state.city);\n    console.log(this.state.state);\n    console.log(this.state.startDate);\n    console.log(this.state.endDate);\n    console.log(this.state.user);\n\n    if (this.state.user != null) {\n      this.internioApi.addInternshipToUser({\n        locationCity: this.state.city,\n        locationState: this.state.state,\n        startDate: this.state.startDate,\n        endDate: this.state.endDate,\n        username: this.state.user.username\n      }).then(info => {\n        console.log(\"Setting current city\");\n        console.log(info.locationCity);\n        console.log(info);\n        this.setState({\n          current: info,\n          neighborhoodStage: true,\n          addingNewInternship: false\n        });\n        this.internioApi.getNeighborhoods({\n          locationCity: info.locationCity\n        }).then(neighborhoods => {\n          this.setState({\n            neighborhoods: neighborhoods\n          });\n        });\n      });\n    }\n  }\n\n  setStartDate(e) {\n    let date = e;\n    this.setState({\n      startDate: date.unix()\n    });\n  }\n\n  setEndDate(e) {\n    let date = e;\n    this.setState({\n      endDate: date.unix()\n    });\n  }\n\n  setCity(e) {\n    this.setState({\n      city: e.target.value\n    });\n  }\n\n  setStateLocation(e) {\n    this.setState({\n      state: e.target.value\n    });\n  }\n\n  setCompany(e) {\n    this.setState({\n      company: e.target.value\n    });\n  }\n\n  addNewInternship() {\n    this.setState({\n      addingNewInternship: true,\n      start: false\n    });\n  }\n\n  componentDidMount() {\n    const token = Cookies.get(\"jwt\");\n\n    if (token) {\n      const requestParams = {\n        token: token\n      };\n      console.log(\"Found JWT token, veryfing...\");\n      this.authApi.verifyJWT(requestParams).then(verified => {\n        this.internioApi.getUser({\n          username: verified\n        }).then(user => {\n          this.setState({\n            authenticated: verified != \"INVALID\",\n            loading: false,\n            user: user,\n            addingNewInternship: user.internships.length == 0\n          });\n        });\n      });\n    } else {\n      console.log(\"No JWT token available\");\n      this.setState({\n        authenticated: false,\n        loading: false\n      });\n    }\n  }\n\n  render() {\n    console.log(\"Here?\");\n    console.log(this.state.neighborhoods.length);\n    console.log(this.state.addingNewInternship);\n    console.log(this.state.neighborhoodStage);\n    console.log(\"Done??\");\n\n    if (this.state.loading) {\n      return React.createElement(React.Fragment, null);\n    }\n\n    if (!this.state.authenticated) {\n      return React.createElement(Redirect, {\n        to: \"/login\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 175\n        },\n        __self: this\n      });\n    }\n\n    if (this.state.user != null) {\n      let username = this.state.user.nameFirst;\n    }\n\n    return React.createElement(React.Fragment, null, React.createElement(Menu, {\n      as: Menu,\n      borderless: true,\n      visible: true,\n      vertical: true,\n      inverted: true,\n      className: styles.Sidebar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    }, React.createElement(Menu.Item, {\n      name: \"home\",\n      onClick: () => {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"home\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }), this.state.user != null && this.state.user.nameFirst), React.createElement(Menu.Item, {\n      name: \"users\",\n      onClick: () => {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"users\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, \"Roommates\")), React.createElement(Menu.Item, {\n      name: \"repos\",\n      onClick: () => {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"fork\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 200\n      },\n      __self: this\n    }, \"Account\")), React.createElement(Menu.Item, {\n      name: \"repos\",\n      onClick: () => {},\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 202\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"fork\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 203\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }, \"Logout\"))), React.createElement(Segment, {\n      textAlign: \"center\",\n      basic: true,\n      className: styles.Container,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, React.createElement(Segment, {\n      padded: \"very\",\n      className: styles.InnerContainer,\n      stacked: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(Grid, {\n      verticalAlign: \"middle\",\n      centered: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }, !this.state.neighborhoodStage && !this.state.addingNewInternship && this.state.user != null && this.state.user.internships.map((value, index) => React.createElement(Grid.Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    }, React.createElement(Segment, {\n      fluid: true,\n      raised: true,\n      color: \"purple\",\n      className: styles.Dog,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 212\n      },\n      __self: this\n    }, React.createElement(Header, {\n      as: \"h2\",\n      icon: true,\n      textAlign: \"center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 213\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"bookmark\",\n      circular: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 214\n      },\n      __self: this\n    }), console.log(value), React.createElement(Header.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, value.company, \" Internship\"), React.createElement(Header.Subheader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, value.startDate && value.startDate.toDateString(), \"to\", value.endDate && value.endDate.toDateString()))))), this.state.addingNewInternship && !this.state.start && React.createElement(Segment, {\n      raised: true,\n      className: styles.NewTwo,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 234\n      },\n      __self: this\n    }, React.createElement(Form, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 235\n      },\n      __self: this\n    }, React.createElement(Form.Field, {\n      label: \"Company\",\n      control: Input,\n      placeholder: \"Company name\",\n      onChange: this.setCompany,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 236\n      },\n      __self: this\n    }), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 242\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    }, \"City\"), React.createElement(Input, {\n      placeholder: \"City\",\n      onChange: this.setCity,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 244\n      },\n      __self: this\n    })), React.createElement(Form.Field, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 246\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 247\n      },\n      __self: this\n    }, \"State\"), React.createElement(Input, {\n      placeholder: \"State\",\n      onChange: this.setStateLocation,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 248\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 250\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 251\n      },\n      __self: this\n    }, \"Start date\")), React.createElement(Datetime, {\n      onChange: this.setStartDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 253\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      className: styles.Spacer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 255\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 256\n      },\n      __self: this\n    }, React.createElement(\"strong\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 257\n      },\n      __self: this\n    }, \"End date\")), React.createElement(Datetime, {\n      onChange: this.setEndDate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    }), React.createElement(Button, {\n      primary: true,\n      className: styles.Button,\n      onClick: this.submitNewInternship,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 261\n      },\n      __self: this\n    }, \"Submit\"))), this.state.neighborhoodStage && this.state.neighborhoods.length == 0 && React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 273\n      },\n      __self: this\n    }, \"Loading neighborhoods\"), this.state.neighborhoodStage && this.state.neighborhoods.length != 0 && React.createElement(Card.Group, {\n      fluid: true,\n      centered: true,\n      color: \"purple\",\n      itemsPerRow: 3,\n      className: styles.Cat,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 278\n      },\n      __self: this\n    }, this.state.neighborhoods.map((value, index) => React.createElement(NeighborhoodComponent, {\n      name: value.neighborhoodName,\n      state: value.city,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 280\n      },\n      __self: this\n    }))), this.state.addingNewInternship && this.state.start && React.createElement(Segment, {\n      raised: true,\n      className: styles.New,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 287\n      },\n      __self: this\n    }, React.createElement(Header, {\n      as: \"h2\",\n      icon: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, React.createElement(Icon, {\n      name: \"settings\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }), \"Start your first search\", React.createElement(Header.Subheader, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 291\n      },\n      __self: this\n    }, \"All you need is your dates and location of your internship! We'll take of the rest\")), React.createElement(Divider, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 296\n      },\n      __self: this\n    }), React.createElement(Button, {\n      primary: true,\n      onClick: this.addNewInternship,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 297\n      },\n      __self: this\n    }, \"Add\"))))));\n  }\n\n}","map":{"version":3,"sources":["/Users/pabloestrada/Desktop/Internio/ui/src/components/dashboard/DashboardComponent/DashboardComponent.tsx"],"names":["React","styles","AuthApi","InternioApi","Cookies","Redirect","NeighborhoodComponent","Datetime","Grid","Icon","Menu","Segment","Header","Button","Divider","Form","Input","Card","DashboardComponent","Component","constructor","props","authApi","internioApi","state","authenticated","loading","start","addingNewInternship","neighborhoodStage","neighborhoods","company","city","addNewInternship","bind","setCompany","setState","setCity","setStartDate","setEndDate","setStateLocation","submitNewInternship","e","preventDefault","console","log","startDate","endDate","user","addInternshipToUser","locationCity","locationState","username","then","info","current","getNeighborhoods","date","unix","target","value","componentDidMount","token","get","requestParams","verifyJWT","verified","getUser","internships","length","render","nameFirst","Sidebar","Container","InnerContainer","map","index","Dog","toDateString","NewTwo","Spacer","Cat","neighborhoodName","New"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styles from \"./DashboardComponent.module.css\";\nimport { AuthApi } from \"../../../api/index\";\nimport { InternioApi } from \"../../../api/index\";\nimport Cookies from \"js-cookie\";\nimport { Redirect } from \"react-router-dom\";\nimport { User, Neighborhood, ObjectId, InternshipInfo } from \"../../../api/index\";\nimport { NeighborhoodComponent } from \"../NeighborhoodComponent/index\"\nimport Datetime from \"react-datetime\";\nimport * as moment from \"moment\";\n\nimport \"../../../../node_modules/react-datetime/css/react-datetime.css\";\n\nimport {\n  Grid,\n  Image,\n  Accordion,\n  Icon,\n  Sidebar,\n  Menu,\n  Segment,\n  Header,\n  Button,\n  Divider,\n  Form,\n  Checkbox,\n  Input,\n  Card\n} from \"semantic-ui-react\";\n\ninterface Props {}\n\ninterface State {\n  authenticated: Boolean;\n  loading: Boolean;\n  start: Boolean;\n  addingNewInternship: Boolean;\n\n  neighborhoodStage: Boolean;\n  neighborhoods: Neighborhood[];\n\n  user?: User;\n\n  current?: InternshipInfo;\n\n  // Create InternshipInfo\n  company: string;\n  city: string;\n  state: string;\n  startDate?: number;\n  endDate?: number;\n}\n\nexport class DashboardComponent extends React.Component<{}, State> {\n  private authApi: AuthApi = new AuthApi();\n  private internioApi: InternioApi = new InternioApi();\n\n  constructor(props: {}) {\n    super(props);\n    this.state = {\n      authenticated: false,\n      loading: true,\n      start: true,\n      addingNewInternship: false,\n      neighborhoodStage: false,\n      neighborhoods: [],\n\n      company: \"\",\n      city: \"\",\n      state: \"\"\n    };\n    this.addNewInternship = this.addNewInternship.bind(this);\n    this.setCompany = this.setCompany.bind(this);\n    this.setState = this.setState.bind(this);\n    this.setCity = this.setCity.bind(this);\n    this.setStartDate = this.setStartDate.bind(this);\n    this.setEndDate = this.setEndDate.bind(this);\n    this.setStateLocation = this.setStateLocation.bind(this);\n    this.submitNewInternship = this.submitNewInternship.bind(this);\n  }\n\n  submitNewInternship(e: any) {\n    e.preventDefault();\n    console.log(\"GOING!!!\");\n    console.log(this.state.city);\n    console.log(this.state.state);\n    console.log(this.state.startDate);\n    console.log(this.state.endDate);\n    console.log(this.state.user);\n\n    if (this.state.user != null) {\n      this.internioApi\n        .addInternshipToUser({\n          locationCity: this.state.city,\n          locationState: this.state.state,\n          startDate: this.state.startDate,\n          endDate: this.state.endDate,\n          username: this.state.user.username\n        })\n        .then((info) => {\n          console.log(\"Setting current city\");\n          console.log(info.locationCity);\n          console.log(info);\n          this.setState({current: info, neighborhoodStage: true, addingNewInternship: false})\n\n          this.internioApi\n          .getNeighborhoods({locationCity: info.locationCity})\n          .then((neighborhoods) => {\n            this.setState({neighborhoods: neighborhoods})\n          })\n        });\n    }\n  }\n\n  setStartDate(e: string | moment.Moment) {\n    let date = e as moment.Moment;\n    this.setState({ startDate: date.unix() });\n  }\n\n  setEndDate(e: string | moment.Moment) {\n    let date = e as moment.Moment;\n    this.setState({ endDate: date.unix() });\n  }\n\n  setCity(e: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({ city: e.target.value });\n  }\n\n  setStateLocation(e: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({ state: e.target.value });\n  }\n\n  setCompany(e: React.ChangeEvent<HTMLInputElement>) {\n    this.setState({ company: e.target.value });\n  }\n\n  addNewInternship() {\n    this.setState({ addingNewInternship: true, start: false });\n  }\n\n\n  componentDidMount() {\n    const token = Cookies.get(\"jwt\");\n    if (token) {\n      const requestParams = { token: token };\n      console.log(\"Found JWT token, veryfing...\");\n      this.authApi.verifyJWT(requestParams).then(verified => {\n        this.internioApi.getUser({ username: verified }).then(user => {\n            this.setState({\n              authenticated: verified != \"INVALID\",\n              loading: false,\n              user: user,\n              addingNewInternship: user.internships.length == 0\n            });\n        });\n      });\n    } else {\n      console.log(\"No JWT token available\");\n      this.setState({ authenticated: false, loading: false });\n    }\n  }\n\n  render() {\n    console.log(\"Here?\")\n    console.log(this.state.neighborhoods.length)\n    console.log(this.state.addingNewInternship)\n    console.log(this.state.neighborhoodStage)\n    console.log(\"Done??\")\n\n\n    if (this.state.loading) {\n      return <></>;\n    }\n    if (!this.state.authenticated) {\n      return <Redirect to=\"/login\" />;\n    }\n    if (this.state.user != null) {\n      let username: string = this.state.user.nameFirst;\n    }\n    return (\n      <>\n        <Menu\n          as={Menu}\n          borderless\n          visible={true}\n          vertical\n          inverted\n          className={styles.Sidebar}\n        >\n          <Menu.Item name=\"home\" onClick={() => {}}>\n            <Icon name=\"home\" />\n            {this.state.user != null && this.state.user.nameFirst}\n          </Menu.Item>\n          <Menu.Item name=\"users\" onClick={() => {}}>\n            <Icon name=\"users\" />\n            <span>Roommates</span>\n          </Menu.Item>\n          <Menu.Item name=\"repos\" onClick={() => {}}>\n            <Icon name=\"fork\" />\n            <span>Account</span>\n          </Menu.Item>\n          <Menu.Item name=\"repos\" onClick={() => {}}>\n            <Icon name=\"fork\" />\n            <span>Logout</span>\n          </Menu.Item>\n        </Menu>\n        <Segment textAlign=\"center\" basic className={styles.Container}>\n          <Segment padded=\"very\" className={styles.InnerContainer} stacked>\n            <Grid verticalAlign=\"middle\" centered>\n              {!this.state.neighborhoodStage && !this.state.addingNewInternship && this.state.user != null && this.state.user.internships.map((value, index) => (\n                <Grid.Row>\n                  <Segment fluid raised color={\"purple\"} className={styles.Dog}>\n                  <Header as='h2' icon textAlign='center'>\n                    <Icon name='bookmark' circular />\n                    { console.log(value) }\n                    <Header.Content>{value.company} Internship</Header.Content>\n                    <Header.Subheader>\n                      {value.startDate &&\n                        value.startDate.toDateString()\n                      }\n                       to\n                      {value.endDate &&\n                        value.endDate.toDateString()\n                      }\n                    </Header.Subheader>\n                  </Header>\n                  </Segment>\n                </Grid.Row>\n              ))\n\n              }\n\n              {this.state.addingNewInternship && !this.state.start && (\n                <Segment raised className={styles.NewTwo}>\n                  <Form>\n                    <Form.Field\n                      label=\"Company\"\n                      control={Input}\n                      placeholder=\"Company name\"\n                      onChange={this.setCompany}\n                    />\n                    <Form.Field>\n                      <label>City</label>\n                      <Input placeholder=\"City\" onChange={this.setCity} />\n                    </Form.Field>\n                    <Form.Field>\n                      <label>State</label>\n                      <Input placeholder=\"State\" onChange={this.setStateLocation} />\n                    </Form.Field>\n                    <label>\n                      <strong>Start date</strong>\n                    </label>\n                    <Datetime onChange={this.setStartDate} />\n\n                    <p className={styles.Spacer}></p>\n                    <label>\n                      <strong>End date</strong>\n                    </label>\n                    <Datetime onChange={this.setEndDate} />\n\n                    <Button\n                      primary\n                      className={styles.Button}\n                      onClick={this.submitNewInternship}\n                    >\n                      Submit\n                    </Button>\n                  </Form>\n                </Segment>\n              )}\n\n              {this.state.neighborhoodStage && this.state.neighborhoods.length == 0 &&\n                  <p>Loading neighborhoods</p>\n              }\n\n              {this.state.neighborhoodStage && this.state.neighborhoods.length != 0 &&\n\n                <Card.Group fluid centered color=\"purple\" itemsPerRow={3} className={styles.Cat}>\n                  {this.state.neighborhoods.map((value, index) => (\n                    <NeighborhoodComponent name={value.neighborhoodName as string} state={value.city as string} />\n                  ))}\n                </Card.Group>\n              }\n\n              { this.state.addingNewInternship &&\n                this.state.start && (\n                  <Segment raised className={styles.New}>\n                    <Header as=\"h2\" icon>\n                      <Icon name=\"settings\" />\n                      Start your first search\n                      <Header.Subheader>\n                        All you need is your dates and location of your\n                        internship! We'll take of the rest\n                      </Header.Subheader>\n                    </Header>\n                    <Divider />\n                    <Button primary onClick={this.addNewInternship}>\n                      Add\n                    </Button>\n                  </Segment>\n                )}\n            </Grid>\n          </Segment>\n        </Segment>\n      </>\n    );\n  }\n}\n"]},"metadata":{},"sourceType":"module"}